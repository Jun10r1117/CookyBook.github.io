<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cookbook Search</title>
  <style>
    /* Global styles */
/* Global styles */
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #FBFBD4, #FFB646);
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  min-height: 100vh;
  justify-content: flex-start;
  padding-top: 30px;
}

h1 {
  margin-top: 20px;
  color: #333333;
  font-size: 2.5rem;
  text-align: center;
  margin-bottom: 30px;
}

/* Search Container */
.search-container {
  background: white;
  padding: 30px;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  margin-top: 20px;
  width: 90%;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  gap: 20px;
  animation: fadeIn 0.5s ease;
  align-items: center; /* Centers the content horizontally */
  text-align: center;
}

/* Input fields */
input[type="text"] {
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 16px;
  width: 80%;  /* Adjust the width to make sure it looks good on various screen sizes */
  margin: 10px 0;
  box-sizing: border-box;
}

/* Buttons */
button {
  padding: 12px 20px;
  background-color:  #FFB646;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  transition: background-color 0.3s, transform 0.3s;
}

button:hover {
  background-color: #ff9c46;
  transform: translateY(-3px);
}

/* Recipe List Container */
#recipeList {
  margin-top: 30px;
  width: 90%;
  max-width: 800px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap: 20px;
  padding-bottom: 40px;
}

/* Recipe Card Styling */
.recipe {
  background: white;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
  transition: transform 0.2s, box-shadow 0.3s;
  cursor: pointer;
}

.recipe:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 24px rgba(0,0,0,0.1);
}

.recipe h3 {
  margin-top: 0;
  color: #333333;
  font-size: 1.2rem;
  margin-bottom: 10px;
}

.recipe p {
  color: #666666;
  font-size: 14px;
}

/* FadeIn animation */
@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Hover animation for recipe name */
.recipe a {
  text-decoration: none;
  color: #333;
}

.recipe a:hover {
  color: #4a90e2;
}

    /* FadeIn animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Hover animation for recipe name */
    .recipe a {
      text-decoration: none;
      color: #333;
    }

    .recipe a:hover {
      color: #4a90e2;
    }

  </style>
</head>
<body>

  <h1>Find a Recipe üê£</h1>

  <div class="search-container">
    <input type="text" id="ingredientsInput" placeholder="Enter ingredients (comma separated)">
    <button onclick="searchRecipes()">Search by Ingredients</button>

    <input type="text" id="manualSearchInput" placeholder="Search recipe name">
    <button onclick="manualSearch()">Manual Search</button>
  </div>

  <div id="recipeList"></div>

  <script>
    const allRecipes = [
      {
        name: "Pancakes",
        ingredients: ["flour", "milk", "sugar", "baking powder", "salt","egg","milk","butter"],
        instructions: "Make the pancake mix: In a large bowl, whisk together the flour, sugar, baking powder and salt. Transfer to a storage container with a tight-fitting lid. Store in a dark, cool place for up to 3 months.When ready to make pancakes, make the batter: In a medium bowl, lightly beat egg, then whisk in milk and melted butter. Sprinkle the 1 cup of pancake mix over the top and slowly whisk together until just blended. (It‚Äôs OK if there are lumps; do not overmix.) Let the batter rest at room temperature for 10 minutes, which will help the flour hydrate and the batter thicken. While the batter is resting, heat a nonstick skillet or griddle over medium-low. When the batter is ready, grease the skillet, making sure the entire surface is lightly coated. Working in batches, add ¬º-cup scoops of batter to the skillet, spreading the batter slightly if necessary. Cook until bubbles begin to form on the surface of the pancake and the underside is golden brown, 2 to 3 minutes. Flip and cook until the second side is golden brown, 1 to 2 minutes more.Repeat with the remaining batter, greasing the skillet in between each batch. Serve pancakes immediately.

"
      },
      {
        name: "Hong Kong-Style French Toast",
        ingredients: ["egg", "butter", "salt","Bread","Peanut Butter","Oil"],
        instructions: "In a wide shallow bowl or baking dish, whisk eggs, milk and a pinch of salt together until well combined. Line a plate with paper towels and set aside. Spread peanut butter over 4 slices of bread, avoiding the very edges. Top with remaining bread to form sandwiches. Cut off crusts and discard (or enjoy as a chef‚Äôs snack). Heat ¬º inch of oil in a large skillet over medium until a small drop of the egg mixture bubbles up and floats immediately. Working in batches if necessary, dip sandwiches in the egg mixture, turning to coat all sides. Let any excess drip off and immediately place sandwiches into the skillet. Fry until golden brown and crisp on the bottom, about 1 minute. Flip each sandwich and continue to cook for another 1 to 2 minutes, carefully spooning the hot oil over the tops and sides of each sandwich as the bottom reaches golden brown. (If using thick-sliced bread, skip this basting step and be sure to fry each short side as well until golden.) Transfer to the paper towel-lined plate to drain any excess oil. Serve each sandwich topped with a pat of butter, a drizzle of condensed milk and a sprinkle of flaky salt."
      },
      {
        name: "Grilled Cheese Sandwich",
        ingredients: ["bread", "cheese", "butter"],
        instructions: "Butter bread, place cheese in between, grill until golden."
      }
    ];
    function searchRecipes() {
      const ingredientsInput = document.getElementById('ingredientsInput').value
        .toLowerCase()
        .split(',')
        .map(s => s.trim())
        .filter(s => s.length > 0); // remove empty strings

      if (ingredientsInput.length === 0) {
        displayRecipes([]); // No ingredients entered
        return;
      }

      const matchingRecipes = allRecipes
        .map(recipe => {
          const matchCount = recipe.ingredients.filter(ingredient =>
            ingredientsInput.includes(ingredient.toLowerCase())
          ).length;
          const matchPercent = (matchCount / recipe.ingredients.length) * 100;
          return { ...recipe, matchPercent };
        })
        .filter(recipe => recipe.matchPercent >= 50);

      displayRecipes(matchingRecipes);
    }


    function manualSearch() {
      const keyword = document.getElementById('manualSearchInput').value.toLowerCase();
      const matchingRecipes = allRecipes.filter(recipe =>
        recipe.name.toLowerCase().includes(keyword)
      );
      displayRecipes(matchingRecipes);
    }

    function displayRecipes(recipes) {
      const list = document.getElementById('recipeList');
      list.innerHTML = '';

      if (recipes.length === 0) {
        const item = document.createElement('div');
        item.className = 'recipe';
        item.innerHTML = `
          <h3>No recipes found</h3>
          <p>Please enter more ingredients.</p>
        `;
        list.appendChild(item);
        return;
      }

      recipes.forEach(recipe => {
        const item = document.createElement('div');
        item.className = 'recipe';
        item.innerHTML = `
          <h3>${recipe.name}${recipe.matchPercent ? ` - ${recipe.matchPercent.toFixed(1)}% match` : ''}</h3>
          <p><strong>Ingredients:</strong> ${recipe.ingredients.join(', ')}</p>
        `;

        // Make the whole card clickable
        item.addEventListener('click', () => {
          showRecipeDetails(recipe);
        });

        list.appendChild(item);
      });
    }
    function showRecipeDetails(recipe) {
      document.body.innerHTML = `
        <div style="padding: 20px; font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #FBFBD4, #FFB646); min-height: 100vh;">
          <button onclick="location.reload()" style="background-color: #FFB646; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; margin-bottom: 20px;">Back</button>
          <div style="background: white; padding: 30px; border-radius: 16px; box-shadow: 0 8px 24px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
            <h1 style="color: #333333;">${recipe.name}</h1>
            <h3>Ingredients:</h3>
            <p>${recipe.ingredients.join(', ')}</p>
            <h3>Instructions:</h3>
            <p>${recipe.instructions}</p>
          </div>
        </div>
      `;
    }

  </script>
</body>
</html>
